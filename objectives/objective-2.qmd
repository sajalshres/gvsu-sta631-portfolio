---
title: "Objective 2"
---

## 2. Generalized linear model

Course Objective:

> Determine and apply the appropriate generalized linear model for a specific data context

Logistic regression is a statistical method for analyzing a dataset in which the dependent variable(outcome) is a categorical with two levels. It helps to estimate the probability of an event occurring based on one or more predictor variables. In many ways, logistic regression is an extension of the linear regression model but uses the logistic function to model the relationship between the predictors and the binary outcome.

## 2.1 Example - Sudent Data

For this example, I will generate a small sample dataset to simulate the student data. I will use the data to fit a logistic regression model using R, and make predictions for a new student.

```{r import-lib, warning=FALSE, message=FALSE, echo=FALSE}
library("knitr")
library("kableExtra")
library("tidyverse")
library("tidymodels")
library("GGally")
library("psych")
library("ggfortify")
```

### 2.1.1 Dataset

```{r}
# Create the dataset
students <- data.frame(
  student_id = 1:5,
  study_hours = c(10, 4, 8, 2, 6),
  attendance_rate = c(80, 60, 90, 40, 95),
  pass = c(1, 0, 1, 0, 1)
)

# Inspect the dataset
print(students)
```

### 2.1.2 Logistic Regression Model

```{r, results='asis'}
# Fit the logistic regression model using glm()
logit_model <- glm(pass ~ study_hours + attendance_rate, data = students, family = "binomial")


tidy(logit_model) %>% kable()
```

### 2.1.3 Predictions for New Student

```{r}
# Predict the probability of passing for a new student with 7 study hours and an 85% attendance rate
new_student <- data.frame(study_hours = 7, attendance_rate = 85)
predicted_probability <- predict(logit_model, newdata = new_student, type = "response")
print(predicted_probability)
```

```{r}
threshold <- 0.5
predicted_outcome <- ifelse(predicted_probability >= threshold, 1, 0)
print(predicted_outcome)
```

The `predicted_outcome` is 1, which indicates that the new student will pass the exam. If the `predicted_outcome` is 0, then model predicts failure.

### 2.2 Mini Project - Student Exam Scores

Data Source: [http://roycekimmons.com/tools/generated_data/exams](http://roycekimmons.com/tools/generated_data/exams)

```{r}
# load data
exam_scores <- read.csv("../data/exam_scores.csv", stringsAsFactors = T)
```

```{r}
head(exam_scores) %>% kable()
```

```{r}
str(exam_scores)
```


```{r}
summary(exam_scores) %>% kable()
```

The data looks clean. 
