{
  "hash": "7bd4316d33303c327c3f8ca660b90804",
  "result": {
    "markdown": "---\ntitle: \"Objective 2\"\n---\n\n\n## 2. Generalized linear model\n\nCourse Objective:\n\n> Determine and apply the appropriate generalized linear model for a specific data context\n\nLogistic regression is a statistical method for analyzing a dataset in which the dependent variable(outcome) is a categorical with two levels. It helps to estimate the probability of an event occurring based on one or more predictor variables. In many ways, logistic regression is an extension of the linear regression model but uses the logistic function to model the relationship between the predictors and the binary outcome.\n\n## 2.1 Example - Sudent Data\n\nFor this example, I will generate a small sample dataset to simulate the student data. I will use the data to fit a logistic regression model using R, and make predictions for a new student.\n\n\n::: {.cell}\n\n:::\n\n\n### 2.1.1 Dataset\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create the dataset\nstudents <- data.frame(\n  student_id = 1:5,\n  study_hours = c(10, 4, 8, 2, 6),\n  attendance_rate = c(80, 60, 90, 40, 95),\n  pass = c(1, 0, 1, 0, 1)\n)\n\n# Inspect the dataset\nprint(students)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  student_id study_hours attendance_rate pass\n1          1          10              80    1\n2          2           4              60    0\n3          3           8              90    1\n4          4           2              40    0\n5          5           6              95    1\n```\n:::\n:::\n\n\n### 2.1.2 Logistic Regression Model\n\n\n\n```{.r .cell-code}\n# Fit the logistic regression model using glm()\nlogit_model <- glm(pass ~ study_hours + attendance_rate, data = students, family = \"binomial\")\n```\n\n```\nWarning: glm.fit: fitted probabilities numerically 0 or 1 occurred\n```\n\n```{.r .cell-code}\ntidy(logit_model) %>% kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> term </th>\n   <th style=\"text-align:right;\"> estimate </th>\n   <th style=\"text-align:right;\"> std.error </th>\n   <th style=\"text-align:right;\"> statistic </th>\n   <th style=\"text-align:right;\"> p.value </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> (Intercept) </td>\n   <td style=\"text-align:right;\"> -105.843041 </td>\n   <td style=\"text-align:right;\"> 225512.130 </td>\n   <td style=\"text-align:right;\"> -0.0004693 </td>\n   <td style=\"text-align:right;\"> 0.9996255 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> study_hours </td>\n   <td style=\"text-align:right;\"> 4.196698 </td>\n   <td style=\"text-align:right;\"> 23645.196 </td>\n   <td style=\"text-align:right;\"> 0.0001775 </td>\n   <td style=\"text-align:right;\"> 0.9998584 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> attendance_rate </td>\n   <td style=\"text-align:right;\"> 1.098797 </td>\n   <td style=\"text-align:right;\"> 3578.025 </td>\n   <td style=\"text-align:right;\"> 0.0003071 </td>\n   <td style=\"text-align:right;\"> 0.9997550 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n\n### 2.1.3 Predictions for New Student\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Predict the probability of passing for a new student with 7 study hours and an 85% attendance rate\nnew_student <- data.frame(study_hours = 7, attendance_rate = 85)\npredicted_probability <- predict(logit_model, newdata = new_student, type = \"response\")\nprint(predicted_probability)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1 \n1 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nthreshold <- 0.5\npredicted_outcome <- ifelse(predicted_probability >= threshold, 1, 0)\nprint(predicted_outcome)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n1 \n1 \n```\n:::\n:::\n\n\nThe `predicted_outcome` is 1, which indicates that the new student will pass the exam. If the `predicted_outcome` is 0, then model predicts failure.\n\n### 2.2 Mini Project - Student Exam Scores\n\nData Source: [http://roycekimmons.com/tools/generated_data/exams](http://roycekimmons.com/tools/generated_data/exams)\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# load data\nexam_scores <- read.csv(\"../data/exam_scores.csv\", stringsAsFactors = T)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(exam_scores) %>% kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\"> gender </th>\n   <th style=\"text-align:left;\"> race.ethnicity </th>\n   <th style=\"text-align:left;\"> parental.level.of.education </th>\n   <th style=\"text-align:left;\"> lunch </th>\n   <th style=\"text-align:left;\"> test.preparation.course </th>\n   <th style=\"text-align:right;\"> math.score </th>\n   <th style=\"text-align:right;\"> reading.score </th>\n   <th style=\"text-align:right;\"> writing.score </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\"> female </td>\n   <td style=\"text-align:left;\"> group D </td>\n   <td style=\"text-align:left;\"> some high school </td>\n   <td style=\"text-align:left;\"> standard </td>\n   <td style=\"text-align:left;\"> none </td>\n   <td style=\"text-align:right;\"> 47 </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 57 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> group C </td>\n   <td style=\"text-align:left;\"> some college </td>\n   <td style=\"text-align:left;\"> standard </td>\n   <td style=\"text-align:left;\"> none </td>\n   <td style=\"text-align:right;\"> 81 </td>\n   <td style=\"text-align:right;\"> 89 </td>\n   <td style=\"text-align:right;\"> 86 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> group C </td>\n   <td style=\"text-align:left;\"> associate's degree </td>\n   <td style=\"text-align:left;\"> standard </td>\n   <td style=\"text-align:left;\"> completed </td>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 77 </td>\n   <td style=\"text-align:right;\"> 76 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> group A </td>\n   <td style=\"text-align:left;\"> some college </td>\n   <td style=\"text-align:left;\"> free/reduced </td>\n   <td style=\"text-align:left;\"> none </td>\n   <td style=\"text-align:right;\"> 56 </td>\n   <td style=\"text-align:right;\"> 59 </td>\n   <td style=\"text-align:right;\"> 52 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> female </td>\n   <td style=\"text-align:left;\"> group B </td>\n   <td style=\"text-align:left;\"> high school </td>\n   <td style=\"text-align:left;\"> standard </td>\n   <td style=\"text-align:left;\"> none </td>\n   <td style=\"text-align:right;\"> 64 </td>\n   <td style=\"text-align:right;\"> 76 </td>\n   <td style=\"text-align:right;\"> 69 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\"> male </td>\n   <td style=\"text-align:left;\"> group E </td>\n   <td style=\"text-align:left;\"> bachelor's degree </td>\n   <td style=\"text-align:left;\"> standard </td>\n   <td style=\"text-align:left;\"> completed </td>\n   <td style=\"text-align:right;\"> 66 </td>\n   <td style=\"text-align:right;\"> 59 </td>\n   <td style=\"text-align:right;\"> 67 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(exam_scores) %>% kable()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table>\n <thead>\n  <tr>\n   <th style=\"text-align:left;\">   </th>\n   <th style=\"text-align:left;\">    gender </th>\n   <th style=\"text-align:left;\"> race.ethnicity </th>\n   <th style=\"text-align:left;\">     parental.level.of.education </th>\n   <th style=\"text-align:left;\">          lunch </th>\n   <th style=\"text-align:left;\"> test.preparation.course </th>\n   <th style=\"text-align:left;\">   math.score </th>\n   <th style=\"text-align:left;\"> reading.score </th>\n   <th style=\"text-align:left;\"> writing.score </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> female:506 </td>\n   <td style=\"text-align:left;\"> group A: 72 </td>\n   <td style=\"text-align:left;\"> associate's degree:199 </td>\n   <td style=\"text-align:left;\"> free/reduced:348 </td>\n   <td style=\"text-align:left;\"> completed:332 </td>\n   <td style=\"text-align:left;\"> Min.   : 12.00 </td>\n   <td style=\"text-align:left;\"> Min.   : 22.00 </td>\n   <td style=\"text-align:left;\"> Min.   : 18.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> male  :494 </td>\n   <td style=\"text-align:left;\"> group B:214 </td>\n   <td style=\"text-align:left;\"> bachelor's degree :115 </td>\n   <td style=\"text-align:left;\"> standard    :652 </td>\n   <td style=\"text-align:left;\"> none     :668 </td>\n   <td style=\"text-align:left;\"> 1st Qu.: 55.00 </td>\n   <td style=\"text-align:left;\"> 1st Qu.: 59.75 </td>\n   <td style=\"text-align:left;\"> 1st Qu.: 58.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> group C:301 </td>\n   <td style=\"text-align:left;\"> high school       :206 </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Median : 67.00 </td>\n   <td style=\"text-align:left;\"> Median : 70.00 </td>\n   <td style=\"text-align:left;\"> Median : 69.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> group D:267 </td>\n   <td style=\"text-align:left;\"> master's degree   : 60 </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Mean   : 66.27 </td>\n   <td style=\"text-align:left;\"> Mean   : 69.66 </td>\n   <td style=\"text-align:left;\"> Mean   : 68.29 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> group E:146 </td>\n   <td style=\"text-align:left;\"> some college      :243 </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> 3rd Qu.: 78.00 </td>\n   <td style=\"text-align:left;\"> 3rd Qu.: 80.00 </td>\n   <td style=\"text-align:left;\"> 3rd Qu.: 79.00 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:left;\">  </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> some high school  :177 </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> NA </td>\n   <td style=\"text-align:left;\"> Max.   :100.00 </td>\n   <td style=\"text-align:left;\"> Max.   :100.00 </td>\n   <td style=\"text-align:left;\"> Max.   :100.00 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}